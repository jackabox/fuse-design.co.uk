{% set mainNav = craft.navigation.nodes('mainNav').with('children').level(1).all() %}

<nav 
	role="navigation" 
	class="fixed top-0 left-0 right-0 pb-8 pt-28 lg:p-1 lg:h-auto bg-white backdrop-blur-sm z-30 lg:relative lg:ml-auto  lg:flex gap-1 items-center transition duration-300 drop-shadow-nav rounded-b-2xl lg:rounded-full"
	x-show="showNav"
	x-transition:enter="transition ease-in-sharp duration-700"
	x-transition:enter-start="transform -translate-y-full"
	x-transition:enter-end="transform translate-y-0"
	x-transition:leave="transition ease-in-sharp duration-700"
	x-transition:leave-start="transform translate-y-0"
	x-transition:leave-end="transform -translate-y-full"
	style="display: none;"
>
	<a 
		href="/" 
		title="{{ siteName }}"
		class="block transition-all overflow-hidden duration-100"
		:class="{
			'w-0' : atTop,
			'w-[56px]' : !atTop,
		}"
	>
		{{ svg('@webroot/svg/logo-sm.svg')|attr({ class: 'w-[56px] h-[56px] duration-300 hover:text-purple' }) }}
	</a>

	<ul class="flex flex-col lg:flex-row mr-0.5">
		
		{% for node in mainNav %}
			<li class="relative">
				<a
					class="py-2 text-2xl text-center lg:text-left lg:text-base leading-normal relative px-5 py-3.5 block hover:bg-black duration-400 hover:text-white lg:rounded-full"
					href="{{ node.url }}"
					{% if node.newWindow %} target="_blank" rel="noopener" {% endif %}
					{% for attribute in node.customAttributes %}{{ attribute.attribute }}="{{ attribute.value }}"{% endfor %}
				>
					<span class="leading-normal ">{{ node.title }}</span>
				</a>
			</li>
		{% endfor %}
	</ul>
</nav>
