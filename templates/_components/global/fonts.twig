{% set fonts = { 'dm-serif': [{ file: 'dm-serif-italic', weight: 400, style: 'italic' }] } %}

{% for key, family in fonts %}
  {% for font in family %}
    <link rel="preload" href="/fonts/{{ font.file }}.woff2" as="font" crossorigin />
    <style>
      @font-face { font-family: "{{ key }}"; src: url("/fonts/{{ font.file }}.eot"); src: local("{{ key }}"),
      url("/fonts/{{ font.file }}.eot?#iefix") format("embedded-opentype"), url("/fonts/{{ font.file }}.woff2")
      format("woff2"), url("/fonts/{{ font.file }}.woff") format("woff"), url("/fonts/{{ font.file }}.ttf")
      format("truetype"), url("/fonts/{{ font.file }}.svg#{{ font.file }}") format("svg"); font-weight: {{
        font.weight
      }}
      ; font-style: "{{ font.style }}"; font-display: swap; }
    </style>
  {% endfor %}
{% endfor %}
